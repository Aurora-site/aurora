---
import App from "../pages/app.astro";
import { useAstroTranslations } from "../i18n/utils";
const t = useAstroTranslations(Astro);
import { getLocalizedUrl } from "../i18n/utils";
const supportedLangs = ["ru", "en", "cn"]; // добавь нужные языки
const pathParts = Astro.url.pathname.split("/");
const currentLang = supportedLangs.includes(pathParts[1]) ? pathParts[1] : ""; // если язык не найден, оставляем пустую строку
console.log("currentLang:", currentLang);
---

<style>
  /* .app-download h2 {
      font-size: 36px;
      margin-bottom: 20px;
    }*/

  .app-download p {
    margin: 30px 0 40px 0;
  }

  .app-download button {
    padding: 20px 20px;
    font-size: 24px;
    background: linear-gradient(to right, #006909, #18a5bf);
    color: white;
    border: none;
    border-radius: 45px;
    cursor: pointer;
    position: relative;
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    display: block;
  }

  .app-download button:hover {
    background: #218838;
  }

  @media (max-width: 578px) {
    .app-download button {
      font-size: 16px;
    }
  }
</style>

<section class="app-download py-12" id="app">
  <h2><a href="#app">{t("AppDownload.title")}</a></h2>
  <p>
    {t("AppDownload.text")}
  </p>

  <a href={getLocalizedUrl("/app", currentLang)}
    ><button>{t("AppDownload.button")}</button></a
  >
  <!-- <a href={`/${currentLang}/app`}><button>{t("AppDownload.button")}</button></a> -->
  <!-- <a href="/app"><button>{t("AppDownload.button")}</button></a> -->
</section>
